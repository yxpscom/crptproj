<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CrashRpt Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="icon" href="../favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="$relpath/search.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div style="padding:10px">
<table border="0" bgcolor="#FFFFFF" cellspacing="5" width="100%">
 <tr>
  <td width="24px" rowspan="2"><img src="../logo.png" alt="Logo" /></td>
  <td><font family="Arial" size="+2">crashrpt</font></td>
  <td rowspan="2" align="right"></td>
 </tr>
 <tr>
  <td colspan="2"><span style="font-size:0.9em"><i>A crash reporting system for Windows applications</i></a></td>
 </tr>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CrashRpt Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga072c795c3a8477ec6f22b6b92144312e"><td class="memItemLeft" align="right" valign="top"><a id="ga072c795c3a8477ec6f22b6b92144312e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga072c795c3a8477ec6f22b6b92144312e">crSetCrashCallback</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#ga91f3b730d205cfae6aefdc54785abd39">crSetCrashCallbackA</a></td></tr>
<tr class="memdesc:ga072c795c3a8477ec6f22b6b92144312e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Character set-independent mapping of <a class="el" href="group___crash_rpt_a_p_i.html#gaf55644f3fdbf3425a8d6a2e022908930" title="Sets the crash callback function. ">crSetCrashCallbackW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga91f3b730d205cfae6aefdc54785abd39" title="Sets the crash callback function. ">crSetCrashCallbackA()</a> functions. <br /></td></tr>
<tr class="separator:ga072c795c3a8477ec6f22b6b92144312e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24acb589d629460590d85735e12b5337"><td class="memItemLeft" align="right" valign="top"><a id="ga24acb589d629460590d85735e12b5337"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337">crInstall</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e">crInstallA</a></td></tr>
<tr class="memdesc:ga24acb589d629460590d85735e12b5337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Character set-independent mapping of <a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a> functions. <br /></td></tr>
<tr class="separator:ga24acb589d629460590d85735e12b5337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga382c00cf76818ba1a66eb89715a030ea"><td class="memItemLeft" align="right" valign="top"><a id="ga382c00cf76818ba1a66eb89715a030ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea">crAddFile2</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47">crAddFile2A</a></td></tr>
<tr class="memdesc:ga382c00cf76818ba1a66eb89715a030ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Character set-independent mapping of <a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2" title="Adds a file to crash report. ">crAddFile2W()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47" title="Adds a file to crash report. ">crAddFile2A()</a> functions. <br /></td></tr>
<tr class="separator:ga382c00cf76818ba1a66eb89715a030ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bc9d5a06b3ef1bb62e61b109f890730"><td class="memItemLeft" align="right" valign="top"><a id="ga5bc9d5a06b3ef1bb62e61b109f890730"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730">crAddProperty</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#gaf46fc13586e64bae226a033499c8979f">crAddPropertyA</a></td></tr>
<tr class="memdesc:ga5bc9d5a06b3ef1bb62e61b109f890730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Character set-independent mapping of <a class="el" href="group___crash_rpt_a_p_i.html#ga07229bda698ce870ee8fef189073967f" title="Adds a string property to the crash report. ">crAddPropertyW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gaf46fc13586e64bae226a033499c8979f" title="Adds a string property to the crash report. ">crAddPropertyA()</a> functions. <br /></td></tr>
<tr class="separator:ga5bc9d5a06b3ef1bb62e61b109f890730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5c00c702ef3b674f9c4a509f61728e1"><td class="memItemLeft" align="right" valign="top"><a id="gae5c00c702ef3b674f9c4a509f61728e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1">crAddRegKey</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#ga11bcc462c7a44dc3a01abffcd037260f">crAddRegKeyA</a></td></tr>
<tr class="memdesc:gae5c00c702ef3b674f9c4a509f61728e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Character set-independent mapping of <a class="el" href="group___crash_rpt_a_p_i.html#gadeac8208aa4abe735fc966166ffa4073" title="Adds a registry key dump to the crash report. ">crAddRegKeyW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga11bcc462c7a44dc3a01abffcd037260f" title="Adds a registry key dump to the crash report. ">crAddRegKeyA()</a> functions. <br /></td></tr>
<tr class="separator:gae5c00c702ef3b674f9c4a509f61728e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga062f47d5f7284d72793c60699c7caa33"><td class="memItemLeft" align="right" valign="top"><a id="ga062f47d5f7284d72793c60699c7caa33"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>&#160;&#160;&#160;<a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1">crGetLastErrorMsgA</a></td></tr>
<tr class="memdesc:ga062f47d5f7284d72793c60699c7caa33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines character set-independent mapping for <a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgA()</a>. <br /></td></tr>
<tr class="separator:ga062f47d5f7284d72793c60699c7caa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga16afda5ba27917d3954b4a33062413cf"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga16afda5ba27917d3954b4a33062413cf">PFNCRASHCALLBACKW</a>) (<a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_w.html">CR_CRASH_CALLBACK_INFOW</a> *pInfo)</td></tr>
<tr class="memdesc:ga16afda5ba27917d3954b4a33062413cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Client crash callback function prototype.  <a href="#ga16afda5ba27917d3954b4a33062413cf">More...</a><br /></td></tr>
<tr class="separator:ga16afda5ba27917d3954b4a33062413cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11deea25ba0fb0f4ad8942f672ee1a82"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga11deea25ba0fb0f4ad8942f672ee1a82">PFNCRASHCALLBACKA</a>) (<a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFOA</a> *pInfo)</td></tr>
<tr class="memdesc:ga11deea25ba0fb0f4ad8942f672ee1a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Client crash callback function prototype.  <a href="#ga11deea25ba0fb0f4ad8942f672ee1a82">More...</a><br /></td></tr>
<tr class="separator:ga11deea25ba0fb0f4ad8942f672ee1a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf55644f3fdbf3425a8d6a2e022908930"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gaf55644f3fdbf3425a8d6a2e022908930">crSetCrashCallbackW</a> (<a class="el" href="group___crash_rpt_a_p_i.html#ga16afda5ba27917d3954b4a33062413cf">PFNCRASHCALLBACKW</a> pfnCallbackFunc, LPVOID lpParam)</td></tr>
<tr class="memdesc:gaf55644f3fdbf3425a8d6a2e022908930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the crash callback function.  <a href="#gaf55644f3fdbf3425a8d6a2e022908930">More...</a><br /></td></tr>
<tr class="separator:gaf55644f3fdbf3425a8d6a2e022908930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91f3b730d205cfae6aefdc54785abd39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga91f3b730d205cfae6aefdc54785abd39">crSetCrashCallbackA</a> (<a class="el" href="group___crash_rpt_a_p_i.html#ga11deea25ba0fb0f4ad8942f672ee1a82">PFNCRASHCALLBACKA</a> pfnCallbackFunc, LPVOID lpParam)</td></tr>
<tr class="memdesc:ga91f3b730d205cfae6aefdc54785abd39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the crash callback function.  <a href="#ga91f3b730d205cfae6aefdc54785abd39">More...</a><br /></td></tr>
<tr class="separator:ga91f3b730d205cfae6aefdc54785abd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1f98f531d9a1c67f090768ce4316ffd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd">crInstallW</a> (<a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_w.html">PCR_INSTALL_INFOW</a> pInfo)</td></tr>
<tr class="memdesc:gac1f98f531d9a1c67f090768ce4316ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs exception handlers for the caller process.  <a href="#gac1f98f531d9a1c67f090768ce4316ffd">More...</a><br /></td></tr>
<tr class="separator:gac1f98f531d9a1c67f090768ce4316ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18a7a7421e1522f787ba451eaf424b0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e">crInstallA</a> (<a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_a.html">PCR_INSTALL_INFOA</a> pInfo)</td></tr>
<tr class="memdesc:ga18a7a7421e1522f787ba451eaf424b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs exception handlers for the caller process.  <a href="#ga18a7a7421e1522f787ba451eaf424b0e">More...</a><br /></td></tr>
<tr class="separator:ga18a7a7421e1522f787ba451eaf424b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5ff3a104014a1e138878a1882822442"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442">crUninstall</a> ()</td></tr>
<tr class="memdesc:gab5ff3a104014a1e138878a1882822442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>.  <a href="#gab5ff3a104014a1e138878a1882822442">More...</a><br /></td></tr>
<tr class="separator:gab5ff3a104014a1e138878a1882822442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fe5cff31697f687b29dc73cd34d72b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4">crInstallToCurrentThread2</a> (DWORD dwFlags)</td></tr>
<tr class="memdesc:ga6fe5cff31697f687b29dc73cd34d72b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs exception handlers to the caller thread.  <a href="#ga6fe5cff31697f687b29dc73cd34d72b4">More...</a><br /></td></tr>
<tr class="separator:ga6fe5cff31697f687b29dc73cd34d72b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf56dbee81338534d96ab23f694be43c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gaaf56dbee81338534d96ab23f694be43c">crUninstallFromCurrentThread</a> ()</td></tr>
<tr class="memdesc:gaaf56dbee81338534d96ab23f694be43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninstalls C++ exception handlers from the current thread.  <a href="#gaaf56dbee81338534d96ab23f694be43c">More...</a><br /></td></tr>
<tr class="separator:gaaf56dbee81338534d96ab23f694be43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7c157085cda0769968b172ecdd812f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2">crAddFile2W</a> (LPCWSTR pszFile, LPCWSTR pszDestFile, LPCWSTR pszDesc, DWORD dwFlags)</td></tr>
<tr class="memdesc:gac7c157085cda0769968b172ecdd812f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to crash report.  <a href="#gac7c157085cda0769968b172ecdd812f2">More...</a><br /></td></tr>
<tr class="separator:gac7c157085cda0769968b172ecdd812f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab32d6fda8fbea44b55fd4dd78a54cf47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47">crAddFile2A</a> (LPCSTR pszFile, LPCSTR pszDestFile, LPCSTR pszDesc, DWORD dwFlags)</td></tr>
<tr class="memdesc:gab32d6fda8fbea44b55fd4dd78a54cf47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to crash report.  <a href="#gab32d6fda8fbea44b55fd4dd78a54cf47">More...</a><br /></td></tr>
<tr class="separator:gab32d6fda8fbea44b55fd4dd78a54cf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga255c2086d4b4b22ebec30428a067419c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c">crAddScreenshot2</a> (DWORD dwFlags, int nJpegQuality)</td></tr>
<tr class="memdesc:ga255c2086d4b4b22ebec30428a067419c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a screenshot to the crash report.  <a href="#ga255c2086d4b4b22ebec30428a067419c">More...</a><br /></td></tr>
<tr class="separator:ga255c2086d4b4b22ebec30428a067419c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa49dfdd25095df316804ca0f934c5e15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gaa49dfdd25095df316804ca0f934c5e15">crAddVideo</a> (DWORD dwFlags, int nDuration, int nFrameInterval, PSIZE pDesiredFrameSize, HWND hWndParent)</td></tr>
<tr class="memdesc:gaa49dfdd25095df316804ca0f934c5e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to record what happened before crash to a video file and include the file to crash report.  <a href="#gaa49dfdd25095df316804ca0f934c5e15">More...</a><br /></td></tr>
<tr class="separator:gaa49dfdd25095df316804ca0f934c5e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07229bda698ce870ee8fef189073967f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga07229bda698ce870ee8fef189073967f">crAddPropertyW</a> (LPCWSTR pszPropName, LPCWSTR pszPropValue)</td></tr>
<tr class="memdesc:ga07229bda698ce870ee8fef189073967f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a string property to the crash report.  <a href="#ga07229bda698ce870ee8fef189073967f">More...</a><br /></td></tr>
<tr class="separator:ga07229bda698ce870ee8fef189073967f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf46fc13586e64bae226a033499c8979f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gaf46fc13586e64bae226a033499c8979f">crAddPropertyA</a> (LPCSTR pszPropName, LPCSTR pszPropValue)</td></tr>
<tr class="memdesc:gaf46fc13586e64bae226a033499c8979f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a string property to the crash report.  <a href="#gaf46fc13586e64bae226a033499c8979f">More...</a><br /></td></tr>
<tr class="separator:gaf46fc13586e64bae226a033499c8979f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeac8208aa4abe735fc966166ffa4073"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gadeac8208aa4abe735fc966166ffa4073">crAddRegKeyW</a> (LPCWSTR pszRegKey, LPCWSTR pszDstFileName, DWORD dwFlags)</td></tr>
<tr class="memdesc:gadeac8208aa4abe735fc966166ffa4073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a registry key dump to the crash report.  <a href="#gadeac8208aa4abe735fc966166ffa4073">More...</a><br /></td></tr>
<tr class="separator:gadeac8208aa4abe735fc966166ffa4073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11bcc462c7a44dc3a01abffcd037260f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga11bcc462c7a44dc3a01abffcd037260f">crAddRegKeyA</a> (LPCSTR pszRegKey, LPCSTR pszDstFileName, DWORD dwFlags)</td></tr>
<tr class="memdesc:ga11bcc462c7a44dc3a01abffcd037260f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a registry key dump to the crash report.  <a href="#ga11bcc462c7a44dc3a01abffcd037260f">More...</a><br /></td></tr>
<tr class="separator:ga11bcc462c7a44dc3a01abffcd037260f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60af60c28c64a1d3baa11f1220b9c3f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga60af60c28c64a1d3baa11f1220b9c3f4">crGenerateErrorReport</a> (<a class="el" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a> *pExceptionInfo)</td></tr>
<tr class="memdesc:ga60af60c28c64a1d3baa11f1220b9c3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually generates an error report.  <a href="#ga60af60c28c64a1d3baa11f1220b9c3f4">More...</a><br /></td></tr>
<tr class="separator:ga60af60c28c64a1d3baa11f1220b9c3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab993bf6a9e7b2f909263d8032496b4dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gab993bf6a9e7b2f909263d8032496b4dc">crExceptionFilter</a> (unsigned int code, struct _EXCEPTION_POINTERS *ep)</td></tr>
<tr class="memdesc:gab993bf6a9e7b2f909263d8032496b4dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be used as a SEH exception filter.  <a href="#gab993bf6a9e7b2f909263d8032496b4dc">More...</a><br /></td></tr>
<tr class="separator:gab993bf6a9e7b2f909263d8032496b4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71fc93e6828f68f88b80326104489720"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga71fc93e6828f68f88b80326104489720">crEmulateCrash</a> (unsigned ExceptionType)  throw (...)</td></tr>
<tr class="memdesc:ga71fc93e6828f68f88b80326104489720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emulates a predefined crash situation.  <a href="#ga71fc93e6828f68f88b80326104489720">More...</a><br /></td></tr>
<tr class="separator:ga71fc93e6828f68f88b80326104489720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cfc01be2fd1c3daf53f21fa553785ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae">crGetLastErrorMsgW</a> (LPWSTR pszBuffer, UINT uBuffSize)</td></tr>
<tr class="memdesc:ga5cfc01be2fd1c3daf53f21fa553785ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last CrashRpt error message.  <a href="#ga5cfc01be2fd1c3daf53f21fa553785ae">More...</a><br /></td></tr>
<tr class="separator:ga5cfc01be2fd1c3daf53f21fa553785ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa33fe8e2555162c9ed434c4561125ec1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1">crGetLastErrorMsgA</a> (LPSTR pszBuffer, UINT uBuffSize)</td></tr>
<tr class="memdesc:gaa33fe8e2555162c9ed434c4561125ec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last CrashRpt error message.  <a href="#gaa33fe8e2555162c9ed434c4561125ec1">More...</a><br /></td></tr>
<tr class="separator:gaa33fe8e2555162c9ed434c4561125ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga11deea25ba0fb0f4ad8942f672ee1a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11deea25ba0fb0f4ad8942f672ee1a82">&#9670;&nbsp;</a></span>PFNCRASHCALLBACKA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( * PFNCRASHCALLBACKA) (<a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFOA</a> *pInfo)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Client crash callback function prototype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInfo</td><td>Points to information about the crash.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>The crash callback function is called when a crash occurs. This way client application is notified about the crash.</p>
<p>Crash information is passed by CrashRpt to the callback function through the <b>pInfo</b> parameter as a pointer to <a class="el" href="group___crash_rpt_structs.html#ga1cf3f11e57ec0de854d65879d778dfac">CR_CRASH_CALLBACK_INFO</a> structure. See below for a code example.</p>
<p>It is generally unsafe to do complex actions (e.g. memory allocation, heap operations) inside of this callback. The application state may be unstable.</p>
<p>One reason the application may use this callback for is to close handles to open log files that the application plans to include into the error report. Files should be accessible for reading, otherwise CrashRpt won't be able to include them into error report.</p>
<p>It is also possible (but not recommended) to add files (see <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>), properties (see <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a>), desktop screenshots (see <a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c" title="Adds a screenshot to the crash report. ">crAddScreenshot2()</a>) and registry keys (see <a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1" title="Character set-independent mapping of crAddRegKeyW() and crAddRegKeyA() functions. ...">crAddRegKey()</a>) inside of the crash callback function.</p>
<p>By default, CrashRpt terminates the client application after crash report generation and launching the <em>CrashSender.exe</em> process. However, it is possible to continue program execution after crash report generation by seting <a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a4f6c07d95d854df1ea859360247d9b15">CR_CRASH_CALLBACK_INFO::bContinueExecution</a> structure field to <em>TRUE</em>.</p>
<p>The crash report generation consists of several stages. First, exception pointers are retrieved and the callback function is called for the first time. The callback function may check the retrieved exception information and decide wheter to proceed with crash report generation or to continue client program execution. On the next stage, the <em>CrashSender.exe</em> process is launched and the crash callback function is (optionally) called for the second time. Further crash report data collection and delivery work is performed in <em>CrashSender.exe</em> process. The crash callback may use the provided handle to <em>CrashSender.exe</em> process to wait until it exits.</p>
<p>The crash callback function should typically return <a class="el" href="_crash_rpt_8h.html#a4850f09865c04d425c1127b8c09166fb">CR_CB_DODEFAULT</a> constant to proceed with error report generation without being called back on the next stage(s). Returning the <a class="el" href="_crash_rpt_8h.html#a8d0f52a36f803565e1b0c9b47b35f085">CR_CB_NOTIFY_NEXT_STAGE</a> constant causes CrashRpt to call the crash callback function on the next stage, too. Returning <a class="el" href="_crash_rpt_8h.html#ae54a903df0914e718d373a599c5dc1cb">CR_CB_CANCEL</a> constant will prevent further stage(s) of crash report generation.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#ga16afda5ba27917d3954b4a33062413cf">PFNCRASHCALLBACKW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga11deea25ba0fb0f4ad8942f672ee1a82">PFNCRASHCALLBACKA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b">PFNCRASHCALLBACK()</a> function.</p>
<p>The following code example shows the simplest way of using the crash callback function:</p>
<div class="fragment"><div class="line"><span class="comment">// Define the crash callback</span></div><div class="line"><span class="keywordtype">int</span> CALLBACK CrashCallback(<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFO</a>* pInfo)</div><div class="line">{    </div><div class="line">   </div><div class="line">   <span class="comment">// Do something...</span></div><div class="line"></div><div class="line">   <span class="comment">// Proceed with crash report generation. </span></div><div class="line">   <span class="comment">// This return code also makes CrashRpt to not call this callback function for </span></div><div class="line">   <span class="comment">// the next crash report generation stage.</span></div><div class="line">   <span class="keywordflow">return</span> <a class="code" href="_crash_rpt_8h.html#a4850f09865c04d425c1127b8c09166fb">CR_CB_DODEFAULT</a>;</div><div class="line">}</div></div><!-- fragment --><p>The following code example shows how to use the crash callback function to be notified on every stage of crash report generation:</p>
<div class="fragment"><div class="line"><span class="comment">// Define the crash callback</span></div><div class="line"><span class="keywordtype">int</span> CALLBACK CrashCallback(<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFO</a>* pInfo)</div><div class="line">{    </div><div class="line">   </div><div class="line">   <span class="comment">// We want to continue program execution after crash report generation</span></div><div class="line">   pInfo-&gt;<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a4f6c07d95d854df1ea859360247d9b15">bContinueExecution</a> = TRUE;</div><div class="line"></div><div class="line">   <span class="keywordflow">switch</span>(pInfo-&gt;<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a0e077fb4587217f4f7d771bb69ba8df0">nStage</a>)</div><div class="line">   {</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="_crash_rpt_8h.html#af1b93c7971016f84d1d83d91af0005f3">CR_CB_STAGE_PREPARE</a>:</div><div class="line">             <span class="comment">// do something</span></div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="_crash_rpt_8h.html#ae4c236433273f0e3be62f7648d95d82f">CR_CB_STAGE_FINISH</a>:</div><div class="line">             <span class="comment">// do something</span></div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// Proceed to the next stage. </span></div><div class="line">   <span class="keywordflow">return</span> <a class="code" href="_crash_rpt_8h.html#a8d0f52a36f803565e1b0c9b47b35f085">CR_CB_NOTIFY_NEXT_STAGE</a>;</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_structs.html#ga1cf3f11e57ec0de854d65879d778dfac" title="Character set-independent mapping of CR_CRASH_CALLBACK_INFOW and CR_CRASH_CALLBACK_INFOA structures...">CR_CRASH_CALLBACK_INFO</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga072c795c3a8477ec6f22b6b92144312e" title="Character set-independent mapping of crSetCrashCallbackW() and crSetCrashCallbackA() functions...">crSetCrashCallback()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c" title="Adds a screenshot to the crash report. ">crAddScreenshot2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1" title="Character set-independent mapping of crAddRegKeyW() and crAddRegKeyA() functions. ...">crAddRegKey()</a> </dd></dl>

</div>
</div>
<a id="ga16afda5ba27917d3954b4a33062413cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16afda5ba27917d3954b4a33062413cf">&#9670;&nbsp;</a></span>PFNCRASHCALLBACKW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( * PFNCRASHCALLBACKW) (<a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_w.html">CR_CRASH_CALLBACK_INFOW</a> *pInfo)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Client crash callback function prototype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInfo</td><td>Points to information about the crash.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>The crash callback function is called when a crash occurs. This way client application is notified about the crash.</p>
<p>Crash information is passed by CrashRpt to the callback function through the <b>pInfo</b> parameter as a pointer to <a class="el" href="group___crash_rpt_structs.html#ga1cf3f11e57ec0de854d65879d778dfac">CR_CRASH_CALLBACK_INFO</a> structure. See below for a code example.</p>
<p>It is generally unsafe to do complex actions (e.g. memory allocation, heap operations) inside of this callback. The application state may be unstable.</p>
<p>One reason the application may use this callback for is to close handles to open log files that the application plans to include into the error report. Files should be accessible for reading, otherwise CrashRpt won't be able to include them into error report.</p>
<p>It is also possible (but not recommended) to add files (see <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>), properties (see <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a>), desktop screenshots (see <a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c" title="Adds a screenshot to the crash report. ">crAddScreenshot2()</a>) and registry keys (see <a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1" title="Character set-independent mapping of crAddRegKeyW() and crAddRegKeyA() functions. ...">crAddRegKey()</a>) inside of the crash callback function.</p>
<p>By default, CrashRpt terminates the client application after crash report generation and launching the <em>CrashSender.exe</em> process. However, it is possible to continue program execution after crash report generation by seting <a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a4f6c07d95d854df1ea859360247d9b15">CR_CRASH_CALLBACK_INFO::bContinueExecution</a> structure field to <em>TRUE</em>.</p>
<p>The crash report generation consists of several stages. First, exception pointers are retrieved and the callback function is called for the first time. The callback function may check the retrieved exception information and decide wheter to proceed with crash report generation or to continue client program execution. On the next stage, the <em>CrashSender.exe</em> process is launched and the crash callback function is (optionally) called for the second time. Further crash report data collection and delivery work is performed in <em>CrashSender.exe</em> process. The crash callback may use the provided handle to <em>CrashSender.exe</em> process to wait until it exits.</p>
<p>The crash callback function should typically return <a class="el" href="_crash_rpt_8h.html#a4850f09865c04d425c1127b8c09166fb">CR_CB_DODEFAULT</a> constant to proceed with error report generation without being called back on the next stage(s). Returning the <a class="el" href="_crash_rpt_8h.html#a8d0f52a36f803565e1b0c9b47b35f085">CR_CB_NOTIFY_NEXT_STAGE</a> constant causes CrashRpt to call the crash callback function on the next stage, too. Returning <a class="el" href="_crash_rpt_8h.html#ae54a903df0914e718d373a599c5dc1cb">CR_CB_CANCEL</a> constant will prevent further stage(s) of crash report generation.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#ga16afda5ba27917d3954b4a33062413cf">PFNCRASHCALLBACKW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga11deea25ba0fb0f4ad8942f672ee1a82">PFNCRASHCALLBACKA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b">PFNCRASHCALLBACK()</a> function.</p>
<p>The following code example shows the simplest way of using the crash callback function:</p>
<div class="fragment"><div class="line"><span class="comment">// Define the crash callback</span></div><div class="line"><span class="keywordtype">int</span> CALLBACK CrashCallback(<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFO</a>* pInfo)</div><div class="line">{    </div><div class="line">   </div><div class="line">   <span class="comment">// Do something...</span></div><div class="line"></div><div class="line">   <span class="comment">// Proceed with crash report generation. </span></div><div class="line">   <span class="comment">// This return code also makes CrashRpt to not call this callback function for </span></div><div class="line">   <span class="comment">// the next crash report generation stage.</span></div><div class="line">   <span class="keywordflow">return</span> <a class="code" href="_crash_rpt_8h.html#a4850f09865c04d425c1127b8c09166fb">CR_CB_DODEFAULT</a>;</div><div class="line">}</div></div><!-- fragment --><p>The following code example shows how to use the crash callback function to be notified on every stage of crash report generation:</p>
<div class="fragment"><div class="line"><span class="comment">// Define the crash callback</span></div><div class="line"><span class="keywordtype">int</span> CALLBACK CrashCallback(<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html">CR_CRASH_CALLBACK_INFO</a>* pInfo)</div><div class="line">{    </div><div class="line">   </div><div class="line">   <span class="comment">// We want to continue program execution after crash report generation</span></div><div class="line">   pInfo-&gt;<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a4f6c07d95d854df1ea859360247d9b15">bContinueExecution</a> = TRUE;</div><div class="line"></div><div class="line">   <span class="keywordflow">switch</span>(pInfo-&gt;<a class="code" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#a0e077fb4587217f4f7d771bb69ba8df0">nStage</a>)</div><div class="line">   {</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="_crash_rpt_8h.html#af1b93c7971016f84d1d83d91af0005f3">CR_CB_STAGE_PREPARE</a>:</div><div class="line">             <span class="comment">// do something</span></div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="_crash_rpt_8h.html#ae4c236433273f0e3be62f7648d95d82f">CR_CB_STAGE_FINISH</a>:</div><div class="line">             <span class="comment">// do something</span></div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">   }</div><div class="line"></div><div class="line">   <span class="comment">// Proceed to the next stage. </span></div><div class="line">   <span class="keywordflow">return</span> <a class="code" href="_crash_rpt_8h.html#a8d0f52a36f803565e1b0c9b47b35f085">CR_CB_NOTIFY_NEXT_STAGE</a>;</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_structs.html#ga1cf3f11e57ec0de854d65879d778dfac" title="Character set-independent mapping of CR_CRASH_CALLBACK_INFOW and CR_CRASH_CALLBACK_INFOA structures...">CR_CRASH_CALLBACK_INFO</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga072c795c3a8477ec6f22b6b92144312e" title="Character set-independent mapping of crSetCrashCallbackW() and crSetCrashCallbackA() functions...">crSetCrashCallback()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c" title="Adds a screenshot to the crash report. ">crAddScreenshot2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1" title="Character set-independent mapping of crAddRegKeyW() and crAddRegKeyA() functions. ...">crAddRegKey()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab32d6fda8fbea44b55fd4dd78a54cf47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab32d6fda8fbea44b55fd4dd78a54cf47">&#9670;&nbsp;</a></span>crAddFile2A()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddFile2A </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszDestFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a file to crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszFile</td><td>Absolute path to the file (or file search pattern) to add to crash report, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDestFile</td><td>Destination file name, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDesc</td><td>File description (used in Error Report Details dialog), optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, optional.</td></tr>
  </table>
  </dd>
</dl>
<p>This function can be called anytime after <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> to add one or more files to the generated crash report.</p>
<p>When this function is called, the file is marked to be added to the error report, then the function returns control to the caller. When a crash occurs, all marked files are added to the report by the <b>CrashSender.exe</b> process. If a file is locked by someone for exclusive access, the file won't be included. Inside of <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b">PFNCRASHCALLBACK()</a> crash callback, close open file handles and ensure files to be included are acessible for reading.</p>
<p><em>pszFile</em> should be either a valid absolute path to the file or a file search pattern (e.g. "*.log") to be added to crash report.</p>
<p><em>pszDestFile</em> should be the name of destination file. This parameter can be used to specify different file name for the file in ZIP archive. If this parameter is NULL, the pszFile file name is used as destination file name. If <em>pszFile</em> is a search pattern, this argument is ignored.</p>
<p><em>pszDesc</em> is a short description of the file. It can be NULL.</p>
<p><em>dwFlags</em> parameter defines the behavior of the function. This can be a combination of the following flags:</p><ul>
<li><a class="el" href="_crash_rpt_8h.html#a8616695331fc9d9b18ac180d35c21166">CR_AF_TAKE_ORIGINAL_FILE</a> On crash, the <b>CrashSender.exe</b> process will try to locate the file from its original location. This behavior is the default one.</li>
<li><a class="el" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a> On crash, the <b>CrashSender.exe</b> process will make a copy of the file and save it to the error report folder.</li>
<li><a class="el" href="_crash_rpt_8h.html#a6cc402a796d855aa44f261557d78e18d">CR_AF_FILE_MUST_EXIST</a> The function will fail if file doesn't exist at the moment of function call (the default behavior).</li>
<li><a class="el" href="_crash_rpt_8h.html#a1d84037d795b16725b439d55dcc1dc50">CR_AF_MISSING_FILE_OK</a> The function will not fail if file is missing (assume it will be created later).</li>
<li><a class="el" href="_crash_rpt_8h.html#afe119fa2f4f78548772d5eaae61e58de">CR_AF_ALLOW_DELETE</a> If this flag is specified, the user will be able to delete the file from error report using context menu of Error Report Details dialog.</li>
</ul>
<p>If you do not use error report delivery (<a class="el" href="_crash_rpt_8h.html#a07d53781e0ea5636b4d0218619460050">CR_INST_DONT_SEND_REPORT</a> flag) or if you use postponed error report delivery (if you specify <a class="el" href="_crash_rpt_8h.html#a1d2fdb48ae4bf477109baf07b29dd26a">CR_INST_SEND_QUEUED_REPORTS</a> flag) you must also specify the <a class="el" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a> as <em>dwFlags</em> parameter value. This will guarantee that a snapshot of your file at the moment of crash is taken and saved to the error report folder. The error report folder is a folder where files included into the crash report are stored until they are sent to recipient.</p>
<p>This function fails if <em>pszFile</em> doesn't exist at the moment of function call, unless you specify <a class="el" href="_crash_rpt_8h.html#a1d84037d795b16725b439d55dcc1dc50">CR_AF_MISSING_FILE_OK</a> flag.</p>
<p>The <a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2" title="Adds a file to crash report. ">crAddFile2W()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47" title="Adds a file to crash report. ">crAddFile2A()</a> are wide-character and multibyte-character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> function. The <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> macro defines character set independent mapping.</p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><span class="comment">// Add the error.log file to crash report. At the moment of crash, </span></div><div class="line"><span class="comment">// the file will be copied to crash report folder. The end user </span></div><div class="line"><span class="comment">// will be able to delete the file using CrashRpt GUI.</span></div><div class="line"><span class="keywordtype">int</span> nResult = <a class="code" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea">crAddFile2</a>(</div><div class="line">           _T(<span class="stringliteral">&quot;C:\\Program Files (x86)\MyApp\\error.log&quot;</span>), </div><div class="line">           _T(<span class="stringliteral">&quot;error.log&quot;</span>), </div><div class="line">           _T(<span class="stringliteral">&quot;Log file&quot;</span>), </div><div class="line">           <a class="code" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a>|<a class="code" href="_crash_rpt_8h.html#afe119fa2f4f78548772d5eaae61e58de">CR_AF_ALLOW_DELETE</a>);</div><div class="line"><span class="keywordflow">if</span>(nResult!=0)</div><div class="line">{</div><div class="line">  <span class="comment">// Get the status message</span></div><div class="line">  TCHAR szErrorMsg[256];</div><div class="line">  <a class="code" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>(szErrorMsg, 256);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Add all *.txt files found in the folder. At the moment of crash, </span></div><div class="line"><span class="comment">// the file(s) will be copied to crash report folder. The end user </span></div><div class="line"><span class="comment">// won&#39;t be able to delete the file(s).</span></div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea">crAddFile2</a>(_T(<span class="stringliteral">&quot;C:\\Program Files (x86)\MyApp\\*.txt&quot;</span>), </div><div class="line">    NULL, _T(<span class="stringliteral">&quot;TXT file&quot;</span>), <a class="code" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a>);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2" title="Adds a file to crash report. ">crAddFile2W()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47" title="Adds a file to crash report. ">crAddFile2A()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> </dd></dl>

</div>
</div>
<a id="gac7c157085cda0769968b172ecdd812f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7c157085cda0769968b172ecdd812f2">&#9670;&nbsp;</a></span>crAddFile2W()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddFile2W </td>
          <td>(</td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszDestFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a file to crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszFile</td><td>Absolute path to the file (or file search pattern) to add to crash report, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDestFile</td><td>Destination file name, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDesc</td><td>File description (used in Error Report Details dialog), optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, optional.</td></tr>
  </table>
  </dd>
</dl>
<p>This function can be called anytime after <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> to add one or more files to the generated crash report.</p>
<p>When this function is called, the file is marked to be added to the error report, then the function returns control to the caller. When a crash occurs, all marked files are added to the report by the <b>CrashSender.exe</b> process. If a file is locked by someone for exclusive access, the file won't be included. Inside of <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b">PFNCRASHCALLBACK()</a> crash callback, close open file handles and ensure files to be included are acessible for reading.</p>
<p><em>pszFile</em> should be either a valid absolute path to the file or a file search pattern (e.g. "*.log") to be added to crash report.</p>
<p><em>pszDestFile</em> should be the name of destination file. This parameter can be used to specify different file name for the file in ZIP archive. If this parameter is NULL, the pszFile file name is used as destination file name. If <em>pszFile</em> is a search pattern, this argument is ignored.</p>
<p><em>pszDesc</em> is a short description of the file. It can be NULL.</p>
<p><em>dwFlags</em> parameter defines the behavior of the function. This can be a combination of the following flags:</p><ul>
<li><a class="el" href="_crash_rpt_8h.html#a8616695331fc9d9b18ac180d35c21166">CR_AF_TAKE_ORIGINAL_FILE</a> On crash, the <b>CrashSender.exe</b> process will try to locate the file from its original location. This behavior is the default one.</li>
<li><a class="el" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a> On crash, the <b>CrashSender.exe</b> process will make a copy of the file and save it to the error report folder.</li>
<li><a class="el" href="_crash_rpt_8h.html#a6cc402a796d855aa44f261557d78e18d">CR_AF_FILE_MUST_EXIST</a> The function will fail if file doesn't exist at the moment of function call (the default behavior).</li>
<li><a class="el" href="_crash_rpt_8h.html#a1d84037d795b16725b439d55dcc1dc50">CR_AF_MISSING_FILE_OK</a> The function will not fail if file is missing (assume it will be created later).</li>
<li><a class="el" href="_crash_rpt_8h.html#afe119fa2f4f78548772d5eaae61e58de">CR_AF_ALLOW_DELETE</a> If this flag is specified, the user will be able to delete the file from error report using context menu of Error Report Details dialog.</li>
</ul>
<p>If you do not use error report delivery (<a class="el" href="_crash_rpt_8h.html#a07d53781e0ea5636b4d0218619460050">CR_INST_DONT_SEND_REPORT</a> flag) or if you use postponed error report delivery (if you specify <a class="el" href="_crash_rpt_8h.html#a1d2fdb48ae4bf477109baf07b29dd26a">CR_INST_SEND_QUEUED_REPORTS</a> flag) you must also specify the <a class="el" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a> as <em>dwFlags</em> parameter value. This will guarantee that a snapshot of your file at the moment of crash is taken and saved to the error report folder. The error report folder is a folder where files included into the crash report are stored until they are sent to recipient.</p>
<p>This function fails if <em>pszFile</em> doesn't exist at the moment of function call, unless you specify <a class="el" href="_crash_rpt_8h.html#a1d84037d795b16725b439d55dcc1dc50">CR_AF_MISSING_FILE_OK</a> flag.</p>
<p>The <a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2" title="Adds a file to crash report. ">crAddFile2W()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47" title="Adds a file to crash report. ">crAddFile2A()</a> are wide-character and multibyte-character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> function. The <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> macro defines character set independent mapping.</p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><span class="comment">// Add the error.log file to crash report. At the moment of crash, </span></div><div class="line"><span class="comment">// the file will be copied to crash report folder. The end user </span></div><div class="line"><span class="comment">// will be able to delete the file using CrashRpt GUI.</span></div><div class="line"><span class="keywordtype">int</span> nResult = <a class="code" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea">crAddFile2</a>(</div><div class="line">           _T(<span class="stringliteral">&quot;C:\\Program Files (x86)\MyApp\\error.log&quot;</span>), </div><div class="line">           _T(<span class="stringliteral">&quot;error.log&quot;</span>), </div><div class="line">           _T(<span class="stringliteral">&quot;Log file&quot;</span>), </div><div class="line">           <a class="code" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a>|<a class="code" href="_crash_rpt_8h.html#afe119fa2f4f78548772d5eaae61e58de">CR_AF_ALLOW_DELETE</a>);</div><div class="line"><span class="keywordflow">if</span>(nResult!=0)</div><div class="line">{</div><div class="line">  <span class="comment">// Get the status message</span></div><div class="line">  TCHAR szErrorMsg[256];</div><div class="line">  <a class="code" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>(szErrorMsg, 256);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Add all *.txt files found in the folder. At the moment of crash, </span></div><div class="line"><span class="comment">// the file(s) will be copied to crash report folder. The end user </span></div><div class="line"><span class="comment">// won&#39;t be able to delete the file(s).</span></div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea">crAddFile2</a>(_T(<span class="stringliteral">&quot;C:\\Program Files (x86)\MyApp\\*.txt&quot;</span>), </div><div class="line">    NULL, _T(<span class="stringliteral">&quot;TXT file&quot;</span>), <a class="code" href="_crash_rpt_8h.html#ae365a56cd807acedceff109c06782bdc">CR_AF_MAKE_FILE_COPY</a>);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gac7c157085cda0769968b172ecdd812f2" title="Adds a file to crash report. ">crAddFile2W()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gab32d6fda8fbea44b55fd4dd78a54cf47" title="Adds a file to crash report. ">crAddFile2A()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> </dd></dl>

</div>
</div>
<a id="gaf46fc13586e64bae226a033499c8979f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf46fc13586e64bae226a033499c8979f">&#9670;&nbsp;</a></span>crAddPropertyA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddPropertyA </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszPropName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszPropValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a string property to the crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszPropName</td><td>Name of the property, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszPropValue</td><td>Value of the property, required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this function to add a string property to the crash description XML file. User-added properties are listed under &lt;CustomProps&gt; tag of the XML file. In the XML file properties are ordered by names in alphabetic order.</p>
<p>The following example shows how to add information about the amount of free disk space to the crash description XML file:</p>
<div class="fragment"><div class="line"><span class="comment">// It is assumed that you already calculated the amount of free disk space, </span></div><div class="line"><span class="comment">// converted it to text and stored it as szFreeSpace string.</span></div><div class="line">LPCTSTR szFreeSpace = _T(<span class="stringliteral">&quot;0 Kb&quot;</span>);</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730">crAddProperty</a>(_T(<span class="stringliteral">&quot;FreeDiskSpace&quot;</span>), szFreeSpace);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___deprecated_a_p_i.html#ga7a2a09a4be002f99d1f224e5a5baae82" title="Adds a screenshot to the crash report. ">crAddScreenshot()</a> </dd></dl>

</div>
</div>
<a id="ga07229bda698ce870ee8fef189073967f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07229bda698ce870ee8fef189073967f">&#9670;&nbsp;</a></span>crAddPropertyW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddPropertyW </td>
          <td>(</td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszPropName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszPropValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a string property to the crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszPropName</td><td>Name of the property, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszPropValue</td><td>Value of the property, required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this function to add a string property to the crash description XML file. User-added properties are listed under &lt;CustomProps&gt; tag of the XML file. In the XML file properties are ordered by names in alphabetic order.</p>
<p>The following example shows how to add information about the amount of free disk space to the crash description XML file:</p>
<div class="fragment"><div class="line"><span class="comment">// It is assumed that you already calculated the amount of free disk space, </span></div><div class="line"><span class="comment">// converted it to text and stored it as szFreeSpace string.</span></div><div class="line">LPCTSTR szFreeSpace = _T(<span class="stringliteral">&quot;0 Kb&quot;</span>);</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730">crAddProperty</a>(_T(<span class="stringliteral">&quot;FreeDiskSpace&quot;</span>), szFreeSpace);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___deprecated_a_p_i.html#ga7a2a09a4be002f99d1f224e5a5baae82" title="Adds a screenshot to the crash report. ">crAddScreenshot()</a> </dd></dl>

</div>
</div>
<a id="ga11bcc462c7a44dc3a01abffcd037260f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11bcc462c7a44dc3a01abffcd037260f">&#9670;&nbsp;</a></span>crAddRegKeyA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddRegKeyA </td>
          <td>(</td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszRegKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCSTR&#160;</td>
          <td class="paramname"><em>pszDstFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a registry key dump to the crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszRegKey</td><td>Registry key to dump, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDstFileName</td><td>Name of the destination file, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, reserved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this function to add a dump of a Windows registry key into the crash report. This function is available since v.1.2.6.</p>
<p>The <em>pszRegKey</em> parameter must be the name of the registry key. The key name should begin with "HKEY_CURRENT_USER" or "HKEY_LOCAL_MACHINE". Other root keys are not supported.</p>
<p>The content of the key specified by the <em>pszRegKey</em> parameter will be stored in a human-readable XML format and included into the error report as <em>pszDstFileName</em> destination file. You can dump multiple registry keys to the same destination file.</p>
<p>The <em>dwFlags</em> parameter can be either set to zero (no flags) or with the following constant:</p>
<ul>
<li><a class="el" href="_crash_rpt_8h.html#a4b62fa44eb6556a9e521e7b174d09faa">CR_AR_ALLOW_DELETE</a> allows the user to delete the file from error report using context menu of Error Report Details dialog.</li>
</ul>
<p>The following example shows how to dump two registry keys to a single <em>regkey.xml</em> file:</p>
<div class="fragment"><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1">crAddRegKey</a>(_T(<span class="stringliteral">&quot;HKEY_CURRENT_USER\\Software\\MyApp&quot;</span>), _T(<span class="stringliteral">&quot;regkey.xml&quot;</span>), 0);</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1">crAddRegKey</a>(_T(<span class="stringliteral">&quot;HKEY_LOCAL_MACHINE\\Software\\MyApp&quot;</span>), _T(<span class="stringliteral">&quot;regkey.xml&quot;</span>), 0);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___deprecated_a_p_i.html#ga7a2a09a4be002f99d1f224e5a5baae82" title="Adds a screenshot to the crash report. ">crAddScreenshot()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a> </dd></dl>

</div>
</div>
<a id="gadeac8208aa4abe735fc966166ffa4073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeac8208aa4abe735fc966166ffa4073">&#9670;&nbsp;</a></span>crAddRegKeyW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddRegKeyW </td>
          <td>(</td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszRegKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCWSTR&#160;</td>
          <td class="paramname"><em>pszDstFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a registry key dump to the crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pszRegKey</td><td>Registry key to dump, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pszDstFileName</td><td>Name of the destination file, required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, reserved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this function to add a dump of a Windows registry key into the crash report. This function is available since v.1.2.6.</p>
<p>The <em>pszRegKey</em> parameter must be the name of the registry key. The key name should begin with "HKEY_CURRENT_USER" or "HKEY_LOCAL_MACHINE". Other root keys are not supported.</p>
<p>The content of the key specified by the <em>pszRegKey</em> parameter will be stored in a human-readable XML format and included into the error report as <em>pszDstFileName</em> destination file. You can dump multiple registry keys to the same destination file.</p>
<p>The <em>dwFlags</em> parameter can be either set to zero (no flags) or with the following constant:</p>
<ul>
<li><a class="el" href="_crash_rpt_8h.html#a4b62fa44eb6556a9e521e7b174d09faa">CR_AR_ALLOW_DELETE</a> allows the user to delete the file from error report using context menu of Error Report Details dialog.</li>
</ul>
<p>The following example shows how to dump two registry keys to a single <em>regkey.xml</em> file:</p>
<div class="fragment"><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1">crAddRegKey</a>(_T(<span class="stringliteral">&quot;HKEY_CURRENT_USER\\Software\\MyApp&quot;</span>), _T(<span class="stringliteral">&quot;regkey.xml&quot;</span>), 0);</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1">crAddRegKey</a>(_T(<span class="stringliteral">&quot;HKEY_LOCAL_MACHINE\\Software\\MyApp&quot;</span>), _T(<span class="stringliteral">&quot;regkey.xml&quot;</span>), 0);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___deprecated_a_p_i.html#ga7a2a09a4be002f99d1f224e5a5baae82" title="Adds a screenshot to the crash report. ">crAddScreenshot()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5bc9d5a06b3ef1bb62e61b109f890730" title="Character set-independent mapping of crAddPropertyW() and crAddPropertyA() functions. ">crAddProperty()</a> </dd></dl>

</div>
</div>
<a id="ga255c2086d4b4b22ebec30428a067419c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga255c2086d4b4b22ebec30428a067419c">&#9670;&nbsp;</a></span>crAddScreenshot2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddScreenshot2 </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nJpegQuality</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a screenshot to the crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nJpegQuality</td><td>Defines the JPEG image quality, optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function can be used to take a screenshot at the moment of crash and add it to the error report. Screenshot information may help the developer to better understand state of the application at the moment of crash and reproduce the error.</p>
<p>When this function is called, screenshot flags are saved, then the function returns control to the caller. When crash occurs, screenshot is made by the <b>CrashSender.exe</b> process and added to the report.</p>
<p><b>dwFlags</b> </p>
<p>Use one of the following constants to specify what part of virtual screen to capture:</p><ul>
<li><a class="el" href="_crash_rpt_8h.html#a5d0f686c9cbb88bdc7425ab3b8bf7d1a">CR_AS_VIRTUAL_SCREEN</a> Use this to take a screenshot of the whole desktop (virtual screen).</li>
<li><a class="el" href="_crash_rpt_8h.html#ab93f74b002581555dc2011e934d79077">CR_AS_MAIN_WINDOW</a> Use this to take a screenshot of the main application main window.</li>
<li><a class="el" href="_crash_rpt_8h.html#aabfcf8b70b29d12bbd6b67654227de19">CR_AS_PROCESS_WINDOWS</a> Use this to take a screenshot of all visible windows that belong to the process.</li>
</ul>
<p>The main application window is a window that has a caption (<b>WS_CAPTION</b>), system menu (<b>WS_SYSMENU</b>) and the <b>WS_EX_APPWINDOW</b> extended style. If CrashRpt doesn't find such window, it considers the first found process window as the main window.</p>
<p>Screenshots are added in form of PNG files by default. You can specify the <a class="el" href="_crash_rpt_8h.html#a166b110421e56bfad02f0b727a652815">CR_AS_USE_JPEG_FORMAT</a> flag to save screenshots as JPEG files instead.</p>
<p>If you use JPEG format, you can use the <em>nJpegQuality</em> parameter to define the JPEG image quality. This should be the number between 0 and 100, inclusively. The bigger the number, the better the quality and the bigger the JPEG file size. If you use PNG file format, this parameter is ignored.</p>
<p>In addition, you can specify the <a class="el" href="_crash_rpt_8h.html#a9bbc5d1376e55b96903e53de6f0e3d71">CR_AS_GRAYSCALE_IMAGE</a> flag to make a grayscale screenshot (by default color image is made). Grayscale image gives smaller file size.</p>
<p>When capturing entire desktop consisting of several monitors, one screenshot file is added per each monitor.</p>
<p>You should be careful when using this feature, because screenshots may contain user-identifying or private information. Always specify purposes you will use collected information for in your Privacy Policy.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> </dd></dl>

</div>
</div>
<a id="gaa49dfdd25095df316804ca0f934c5e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa49dfdd25095df316804ca0f934c5e15">&#9670;&nbsp;</a></span>crAddVideo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crAddVideo </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nDuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nFrameInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PSIZE&#160;</td>
          <td class="paramname"><em>pDesiredFrameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hWndParent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows to record what happened before crash to a video file and include the file to crash report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg()</a> to retrieve the error message on failure.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nDuration</td><td>Video duration (in milliseconds). Optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nFrameInterval</td><td>Interval between subsequent frames (in milliseconds). Optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDesiredFrameSize</td><td>Defines the desired video frame size, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hWndParent</td><td>Window that becomes the parent for GUI displayed by this function. Optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function is available as of v.1.4.0.</p>
<p><b>dwFlags</b> can be a combination of the following constants:</p>
<ul>
<li>use one of the following constants to specify what part of virtual screen to capture:<ul>
<li><a class="el" href="_crash_rpt_8h.html#aa9724fc545af8776ad75838b45358152">CR_AV_VIRTUAL_SCREEN</a> Use this to capture the whole desktop (virtual screen). This is the default.</li>
<li><a class="el" href="_crash_rpt_8h.html#ab8614c84a3e686511af65f12443668f8">CR_AV_MAIN_WINDOW</a> Use this to capture the application's main window.</li>
<li><a class="el" href="_crash_rpt_8h.html#ab2fc68fc206cf6d4b2509cb991c05639">CR_AV_PROCESS_WINDOWS</a> Use this to capture all visible windows that belong to the process.</li>
</ul>
</li>
<li>use one of the following constants to define the desired video encoding quality:<ul>
<li><a class="el" href="_crash_rpt_8h.html#aa5ee9d4b28e0b76b217689cea960d555">CR_AV_QUALITY_LOW</a> Low-quality video encoding. This is the default.</li>
<li><a class="el" href="_crash_rpt_8h.html#aacc9747039bd1c5328047fc122eda4b6">CR_AV_QUALITY_GOOD</a> Good encoding quality, larger file.</li>
<li><a class="el" href="_crash_rpt_8h.html#ae5398551ed913865139c0e5deb823854">CR_AV_QUALITY_BEST</a> The best encoding quality, the largest file.</li>
</ul>
</li>
<li>use the <a class="el" href="_crash_rpt_8h.html#a63b9cbbf14d3ff9451cbf3911acad5c0">CR_AV_ALLOW_DELETE</a> to allow the user to delete the recorded video file from error report using context menu of Error Report Details dialog.</li>
</ul>
<p>The main application window is a window that has a caption (<b>WS_CAPTION</b>), system menu (<b>WS_SYSMENU</b>) and the <b>WS_EX_APPWINDOW</b> extended style. If CrashRpt doesn't find such a window, it considers the first found process window as the main window.</p>
<p>When the function is called, it displays a dialog notifying the user about video recording. The displayed dialog's parent window can be specified with the <b>hWndParent</b> argument. If the <b>hWndParent</b> is <em>NULL</em>, the currently active process window becomes the parent. If you do not want to display the dialog, specify the <a class="el" href="_crash_rpt_8h.html#af421bef9912aa184e6bfd9e6b7fd4d8f">CR_AV_NO_GUI</a> flag for <b>dwFlags</b> argument.</p>
<p>The recorded video will be maximum <b>nDuration</b> milliseconds long with <b>nFrameInterval</b> milliseconds interval between subsequent video frames. If <b>nDuration</b> and <b>nFrameInterval</b> are set to zero (0), the default implementation-defined duration and frame interval are used.</p>
<p>The <b>pDesiredFrameSize</b> parameter allows to define the desired video frame size. Frame width and height must be a multiple of 16 (OGG Theora video codec's requirement). If they are not, they are modified automatically to be a multiple of 16.</p>
<p>To preserve correct aspect ratio of the captured area, set <b>pDesiredFrameSize-&gt;cx</b> or <b>pDesiredFrameSize-&gt;cy</b> to zero. For example, setting <b>pDesiredFrameSize-&gt;cx=640</b> and <b>pDesiredFrameSize-&gt;cy=0</b> results in video frames whose width is 640 pixels and height is calculated to preserve the correct aspect ratio of the captured area. If both <b>cx</b> and <b>cy</b> are specified, the aspect ratio of the captured area is not preserved.</p>
<p>Setting the <b>pDesiredFrameSize</b> parameter to <em>NULL</em> makes the function to determine the best video frame size automatically.</p>
<p>This function can be used to record the state of end user's desktop just before the moment of crash and add the video file to the error report. The recorded information may help the software vendor to better understand the state of the client application at the moment of crash and reproduce the error.</p>
<p>When this function is called, CrashRpt launches another process named <b>CrashSender.exe</b>. The <b>CrashSender.exe</b> process then continuously captures the desktop screenshots in background mode and stores them to disk as image files. To avoid high CPU load, image files are stored in uncompressed state as raw bitmap (BMP) files. When the count of screenshot files exceeds the predefined maximum number, the old screenshot files are reused cyclically.</p>
<p>If the client application does not crash and its main code or main window loop exits successfully, the captured desktop screenshot files are removed by the <a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442">crUninstall()</a> function call and <b>CrashSender.exe</b> process is terminated.</p>
<p>If the client application crashes at some moment of time, the recorded screenshot files are compressed by <a href="http://www.theora.org/">OGG Theora video codec</a> and written into an .OGG file. The uncompressed temporary screenshots are then removed, and the resulting OGG file is included into crash report archive.</p>
<p>The <a href="http://en.wikipedia.org/wiki/Ogg">OGG video format</a> is a widely used video container provided by the open-source OGG Project. OGG files can be opened in a browser like Google Chrome or Mozilla Firefox or in another video player understanding this format, like ffmpeg.</p>
<p>Use this function only when necessary, because it may cause end user's computer performance loss. It also requires some amount of free disk space.</p>
<p>The recorded video may contain user-identifying or private information. Always specify the purposes you will use collected information for in your Privacy Policy.</p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><span class="comment">// First install CrashRpt with crInstall() function</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">SIZE FrameSize = {0, 600}; <span class="comment">// Frames 600 px in height</span></div><div class="line">                    <span class="comment">// Frame width is calculated automatically</span></div><div class="line"></div><div class="line"><span class="comment">// Start capturing desktop. Desktop capture video will</span></div><div class="line"><span class="comment">// be added to crash report on crash</span></div><div class="line"><span class="keywordtype">int</span> nResult = <a class="code" href="group___crash_rpt_a_p_i.html#gaa49dfdd25095df316804ca0f934c5e15">crAddVideo</a>(</div><div class="line">       <a class="code" href="_crash_rpt_8h.html#aa9724fc545af8776ad75838b45358152">CR_AV_VIRTUAL_SCREEN</a>|<a class="code" href="_crash_rpt_8h.html#aacc9747039bd1c5328047fc122eda4b6">CR_AV_QUALITY_GOOD</a>, <span class="comment">// Capture entire desktop</span></div><div class="line">                                             <span class="comment">// Good encoding quality</span></div><div class="line">       10000,   <span class="comment">// 10 seconds long video</span></div><div class="line">       300,     <span class="comment">// 300 msec between frames (3.33 FPS)</span></div><div class="line">       &amp;FrameSize,</div><div class="line">       NULL</div><div class="line">  );</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga255c2086d4b4b22ebec30428a067419c" title="Adds a screenshot to the crash report. ">crAddScreenshot2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gae5c00c702ef3b674f9c4a509f61728e1" title="Character set-independent mapping of crAddRegKeyW() and crAddRegKeyA() functions. ...">crAddRegKey()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442" title="Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with crIns...">crUninstall()</a>. </dd></dl>

</div>
</div>
<a id="ga71fc93e6828f68f88b80326104489720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71fc93e6828f68f88b80326104489720">&#9670;&nbsp;</a></span>crEmulateCrash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crEmulateCrash </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ExceptionType</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">...</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emulates a predefined crash situation. </p>
<dl class="section return"><dt>Returns</dt><dd>This function doesn't return if succeded. If failed, returns non-zero value. Call <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to get the last error message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ExceptionType</td><td>Type of crash.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function uses some a priori incorrect or vulnerable code or raises a C++ signal or raises an uncontinuable software exception to cause crash.</p>
<p>This function can be used to test if CrashRpt handles a crash situation correctly.</p>
<p>CrashRpt will intercept an error or exception if <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> and/or <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a> were previously called. <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> installs exception handlers that function on per-process basis. <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a> installs exception handlers that function on per-thread basis.</p>
<p><em>ExceptionType</em> can be one of the following constants:</p><ul>
<li><a class="el" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a> This will generate a null pointer exception.</li>
<li><a class="el" href="_crash_rpt_8h.html#af4aa23b38193070ef4b38f1b3a8a0963">CR_CPP_TERMINATE_CALL</a> This results in call of terminate() C++ function.</li>
<li><a class="el" href="_crash_rpt_8h.html#a425fc28f72ebc3e44699017af3604f02">CR_CPP_UNEXPECTED_CALL</a> This results in call of unexpected() C++ function.</li>
<li><a class="el" href="_crash_rpt_8h.html#a8b310cb7b13b52bcd990b08ea4064656">CR_CPP_PURE_CALL</a> This emulates a call of pure virtual method call of a C++ class instance (Visual Studio .NET 2003 and later).</li>
<li><a class="el" href="_crash_rpt_8h.html#a8cb24472b56c470d06f83de63ca8ccd4">CR_CPP_NEW_OPERATOR_ERROR</a> This emulates C++ new operator failure (Visual Studio .NET 2003 and later).</li>
<li><a class="el" href="_crash_rpt_8h.html#aacfd8849a933d5cb10cef847cda1f57e">CR_CPP_SECURITY_ERROR</a> This emulates copy of large amount of data to a small buffer (Visual Studio .NET 2003 only).</li>
<li><a class="el" href="_crash_rpt_8h.html#a289276fc38581e2adbd6508c7280f98c">CR_CPP_INVALID_PARAMETER</a> This emulates an invalid parameter C++ exception (Visual Studio 2005 and later).</li>
<li><a class="el" href="_crash_rpt_8h.html#a4a9676354f749187eb7daf13e1010a87">CR_CPP_SIGABRT</a> This raises SIGABRT signal (abnormal program termination).</li>
<li><a class="el" href="_crash_rpt_8h.html#aba15c588b5f86a80a08981c1f72b40a9">CR_CPP_SIGFPE</a> This causes floating point exception.</li>
<li><a class="el" href="_crash_rpt_8h.html#ae390276b0945e085829a8b40b1994d08">CR_CPP_SIGILL</a> This raises SIGILL signal (illegal instruction signal).</li>
<li><a class="el" href="_crash_rpt_8h.html#a05e11a23bf8e0a5b7cea27b9849e27e0">CR_CPP_SIGINT</a> This raises SIGINT signal.</li>
<li><a class="el" href="_crash_rpt_8h.html#a99a0bc97f2f36f507b837d9ad9091d37">CR_CPP_SIGSEGV</a> This raises SIGSEGV signal.</li>
<li><a class="el" href="_crash_rpt_8h.html#a79e36c7aca1e27eeb4d95a2ccab94809">CR_CPP_SIGTERM</a> This raises SIGTERM signal (program termination request).</li>
<li><a class="el" href="_crash_rpt_8h.html#a70dfcb27bf9d3888a6036c5ca040f8a7">CR_NONCONTINUABLE_EXCEPTION</a> This raises a noncontinuable software exception (expected result is the same as in <a class="el" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a>).</li>
<li><a class="el" href="_crash_rpt_8h.html#a45c213196f9d310715f13cd38e8be089">CR_THROW</a> This throws a C++ typed exception (expected result is the same as in <a class="el" href="_crash_rpt_8h.html#af4aa23b38193070ef4b38f1b3a8a0963">CR_CPP_TERMINATE_CALL</a>).</li>
<li><a class="el" href="_crash_rpt_8h.html#abdbebaf623939094b37f65dce02ec57a">CR_STACK_OVERFLOW</a> This causes stack overflow.</li>
</ul>
<p>The <a class="el" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a> uses null pointer write operation to cause the access violation.</p>
<p>The <a class="el" href="_crash_rpt_8h.html#a70dfcb27bf9d3888a6036c5ca040f8a7">CR_NONCONTINUABLE_EXCEPTION</a> has the same effect as <a class="el" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a>, but it uses <b>RaiseException()</b> WinAPI function to raise noncontinuable software exception.</p>
<p>The following example shows how to use <a class="el" href="group___crash_rpt_a_p_i.html#ga71fc93e6828f68f88b80326104489720" title="Emulates a predefined crash situation. ">crEmulateCrash()</a> function.</p>
<div class="fragment"><div class="line"><span class="comment">// emulate null pointer exception (access violation)</span></div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga71fc93e6828f68f88b80326104489720">crEmulateCrash</a>(<a class="code" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a>);</div></div><!-- fragment --> 
</div>
</div>
<a id="gab993bf6a9e7b2f909263d8032496b4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab993bf6a9e7b2f909263d8032496b4dc">&#9670;&nbsp;</a></span>crExceptionFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crExceptionFilter </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct _EXCEPTION_POINTERS *&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can be used as a SEH exception filter. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns <code>EXCEPTION_EXECUTE_HANDLER</code> if succeeds; otherwise <code>EXCEPTION_CONTINUE_SEARCH</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>Exception code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Exception pointers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function can be called instead of a SEH exception filter inside of __try{}__except(Expression){} construction. The function generates an error report and returns control to the exception handler block.</p>
<p>The exception code is usually retrieved with <b>GetExceptionCode()</b> intrinsic function and the exception pointers are retrieved with <b>GetExceptionInformation()</b> intrinsic function.</p>
<p>If an error occurs, this function returns <code>EXCEPTION_CONTINUE_SEARCH</code>. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</p>
<p>The following example shows how to use <a class="el" href="group___crash_rpt_a_p_i.html#gab993bf6a9e7b2f909263d8032496b4dc" title="Can be used as a SEH exception filter. ">crExceptionFilter()</a>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span>* p = NULL;   <span class="comment">// pointer to NULL</span></div><div class="line">__try</div><div class="line">{</div><div class="line">   *p = 13; <span class="comment">// causes an access violation exception;</span></div><div class="line">}</div><div class="line">__except(<a class="code" href="group___crash_rpt_a_p_i.html#gab993bf6a9e7b2f909263d8032496b4dc">crExceptionFilter</a>(GetExceptionCode(), GetExceptionInformation()))</div><div class="line">{   </div><div class="line">  <span class="comment">// Terminate program</span></div><div class="line">  ExitProcess(1);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga60af60c28c64a1d3baa11f1220b9c3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60af60c28c64a1d3baa11f1220b9c3f4">&#9670;&nbsp;</a></span>crGenerateErrorReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crGenerateErrorReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a> *&#160;</td>
          <td class="paramname"><em>pExceptionInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manually generates an error report. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. When failed, it returns a non-zero value. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> function to retrieve the error message.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pExceptionInfo</td><td>Exception information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Call this function to manually generate a crash report. When crash information is collected, control is returned to the caller. The <a class="el" href="group___crash_rpt_a_p_i.html#ga60af60c28c64a1d3baa11f1220b9c3f4" title="Manually generates an error report. ">crGenerateErrorReport()</a> doesn't terminate the caller process.</p>
<p>The crash report may contain the crash minidump file, crash description file in XML format and additional custom files added with a function like <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a>.</p>
<p>The exception information should be passed using <a class="el" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a> structure.</p>
<p>The following example shows how to use <a class="el" href="group___crash_rpt_a_p_i.html#ga60af60c28c64a1d3baa11f1220b9c3f4" title="Manually generates an error report. ">crGenerateErrorReport()</a> function.</p>
<div class="fragment"><div class="line"><a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a> ei;</div><div class="line">memset(&amp;ei, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a>));</div><div class="line">ei.<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html#ab86afdd7b391d5a2fd766e49e67975b1">cb</a> = <span class="keyword">sizeof</span>(<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html">CR_EXCEPTION_INFO</a>);</div><div class="line">ei.<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html#a62f2005b4508289497a10c0e3e96b1be">exctype</a> = <a class="code" href="_crash_rpt_8h.html#af7d99ba0fa3da687cbfdbeacac24ea42">CR_SEH_EXCEPTION</a>;</div><div class="line">ei.<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html#ae2398087ef570faf683a6abd7ea0b594">code</a> = 1234;</div><div class="line">ei.<a class="code" href="struct_c_r___e_x_c_e_p_t_i_o_n___i_n_f_o.html#a3de8fb114330a29c02d177e6ca37910c">pexcptrs</a> = NULL;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> result = <a class="code" href="group___crash_rpt_a_p_i.html#ga60af60c28c64a1d3baa11f1220b9c3f4">crGenerateErrorReport</a>(&amp;ei);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span>(result!=0)</div><div class="line">{</div><div class="line">  <span class="comment">// If goes here, crGenerateErrorReport() has failed</span></div><div class="line">  <span class="comment">// Get the last error message</span></div><div class="line">  TCHAR szErrorMsg[256];</div><div class="line">  <a class="code" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>(szErrorMsg, 256);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Manually terminate program</span></div><div class="line">ExitProcess(0);</div></div><!-- fragment --> 
</div>
</div>
<a id="gaa33fe8e2555162c9ed434c4561125ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa33fe8e2555162c9ed434c4561125ec1">&#9670;&nbsp;</a></span>crGetLastErrorMsgA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crGetLastErrorMsgA </td>
          <td>(</td>
          <td class="paramtype">LPSTR&#160;</td>
          <td class="paramname"><em>pszBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>uBuffSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the last CrashRpt error message. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns length of error message in characters. If output buffer is invalid, returns a negative number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pszBuffer</td><td>Pointer to the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uBuffSize</td><td>Size of buffer in characters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function gets the last CrashRpt error message. You can use this function to retrieve the text status of the last called CrashRpt function.</p>
<p>If buffer is too small for the error message, the message is truncated.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a>. The <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> macro defines character set independent mapping.</p>
<p>The following example shows how to use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> function.</p>
<div class="fragment"><div class="line"><span class="comment">// .. call some CrashRpt function</span></div><div class="line"></div><div class="line"><span class="comment">// Get the status message</span></div><div class="line">TCHAR szErrorMsg[256];</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>(szErrorMsg, 256);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgA()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgW()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> </dd></dl>

</div>
</div>
<a id="ga5cfc01be2fd1c3daf53f21fa553785ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cfc01be2fd1c3daf53f21fa553785ae">&#9670;&nbsp;</a></span>crGetLastErrorMsgW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crGetLastErrorMsgW </td>
          <td>(</td>
          <td class="paramtype">LPWSTR&#160;</td>
          <td class="paramname"><em>pszBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>uBuffSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the last CrashRpt error message. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns length of error message in characters. If output buffer is invalid, returns a negative number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pszBuffer</td><td>Pointer to the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uBuffSize</td><td>Size of buffer in characters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function gets the last CrashRpt error message. You can use this function to retrieve the text status of the last called CrashRpt function.</p>
<p>If buffer is too small for the error message, the message is truncated.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a>. The <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> macro defines character set independent mapping.</p>
<p>The following example shows how to use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> function.</p>
<div class="fragment"><div class="line"><span class="comment">// .. call some CrashRpt function</span></div><div class="line"></div><div class="line"><span class="comment">// Get the status message</span></div><div class="line">TCHAR szErrorMsg[256];</div><div class="line"><a class="code" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33">crGetLastErrorMsg</a>(szErrorMsg, 256);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gaa33fe8e2555162c9ed434c4561125ec1" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgA()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga5cfc01be2fd1c3daf53f21fa553785ae" title="Gets the last CrashRpt error message. ">crGetLastErrorMsgW()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> </dd></dl>

</div>
</div>
<a id="ga18a7a7421e1522f787ba451eaf424b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18a7a7421e1522f787ba451eaf424b0e">&#9670;&nbsp;</a></span>crInstallA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crInstallA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_a.html">PCR_INSTALL_INFOA</a>&#160;</td>
          <td class="paramname"><em>pInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs exception handlers for the caller process. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInfo</td><td>General congiration information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function installs unhandled exception filter for the caller process. It also installs various CRT exception/error handlers that function for all threads of the caller process. For more information, see <a class="el" href="exception_handling.html">About Exceptions and Exception Handling</a></p>
<p>Below is the list of installed handlers:</p><ul>
<li>Top-level SEH exception filter [ <code>SetUnhandledExceptionFilter()</code> ]</li>
<li>C++ pure virtual call handler (Visual Studio .NET 2003 and later) [ <code>_set_purecall_handler()</code> ]</li>
<li>C++ invalid parameter handler (Visual Studio .NET 2005 and later) [ <code>_set_invalid_parameter_handler()</code> ]</li>
<li>C++ new operator error handler (Visual Studio .NET 2003 and later) [ <code>_set_new_handler()</code> ]</li>
<li>C++ buffer overrun handler (Visual Studio .NET 2003 only) [ <code>_set_security_error_handler()</code> ]</li>
<li>C++ abort handler [ <code>signal(SIGABRT)</code> ]</li>
<li>C++ illegal instruction handler [ <code>signal(SIGINT)</code> ]</li>
<li>C++ termination request [ <code>signal(SIGTERM)</code> ]</li>
</ul>
<p>In a multithreaded program, additionally use <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a> function for each execution thread, except the main one.</p>
<p>The <em>pInfo</em> parameter contains all required information needed to install CrashRpt.</p>
<p>This function fails when <em>pInfo-&gt;pszCrashSenderPath</em> doesn't contain valid path to CrashSender.exe or when <em>pInfo-&gt;pszCrashSenderPath</em> is equal to NULL, but <b>CrashSender.exe</b> is not located in the directory where <b>CrashRpt.dll</b> located.</p>
<p>On crash, the crash minidump file is created, which contains CPU information and stack trace information. Also XML file is created that contains additional information that may be helpful for crash analysis. These files along with several additional files added with <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> are packed to a single ZIP file.</p>
<p>When crash information is collected, another process, <b>CrashSender.exe</b>, is launched and the process where crash had occured is terminated. The CrashSender process is responsible for letting the user know about the crash and send the error report.</p>
<p>The error report can be sent over E-mail using address and subject passed to the function as <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d">CR_INSTALL_INFO</a> structure members. Another way of sending error report is an HTTP request using <em>pszUrl</em> member of <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d">CR_INSTALL_INFO</a>.</p>
<p>This function may fail if an appropriate language file (<b>crashrpt_lang.ini</b>) is not found in the directory where the <b>CrashSender.exe</b> file is located.</p>
<p>If this function fails, use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> function. The <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337">crInstall</a> macro defines character set independent mapping for these functions.</p>
<p>For code example, see <a class="el" href="simple_example.html">An Example of Using CrashRpt API</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>, <a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_w.html" title="This structure defines the general information used by crInstallW() function. ">CR_INSTALL_INFOW</a>, <a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_a.html" title="This structure defines the general information used by crInstallW() function. ">CR_INSTALL_INFOA</a>, <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d" title="Character set-independent mapping of CR_INSTALL_INFOW and CR_INSTALL_INFOA structures. ">CR_INSTALL_INFO</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442" title="Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with crIns...">crUninstall()</a>, <a class="el" href="class_cr_auto_install_helper.html" title="Installs exception handlers in constructor and uninstalls in destructor. ">CrAutoInstallHelper</a> </dd></dl>

</div>
</div>
<a id="ga6fe5cff31697f687b29dc73cd34d72b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fe5cff31697f687b29dc73cd34d72b4">&#9670;&nbsp;</a></span>crInstallToCurrentThread2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crInstallToCurrentThread2 </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwFlags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs exception handlers to the caller thread. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFlags</td><td>Flags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function is available <b>since v.1.1.2</b>.</p>
<p>The function sets exception handlers for the caller thread. If you have several execution threads, you ought to call the function for each thread, except the main one.</p>
<p><em>dwFlags</em> defines what exception handlers to install. Use zero value to install all possible exception handlers. Or use a combination of the following constants: </p><pre class="fragment">- \ref CR_INST_TERMINATE_HANDLER              Install terminate handler
- \ref CR_INST_UNEXPECTED_HANDLER             Install unexpected handler
- \ref CR_INST_SIGFPE_HANDLER                 Install SIGFPE signal handler   
- \ref CR_INST_SIGILL_HANDLER                 Install SIGILL signal handler  
- \ref CR_INST_SIGSEGV_HANDLER                Install SIGSEGV signal handler 
</pre><p>Example:</p>
<div class="fragment"><div class="line">DWORD WINAPI ThreadProc(LPVOID lpParam)</div><div class="line">{</div><div class="line">  <span class="comment">// Install exception handlers</span></div><div class="line">  <a class="code" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4">crInstallToCurrentThread2</a>(0);</div><div class="line"></div><div class="line">  <span class="comment">// Your code...</span></div><div class="line"></div><div class="line">  <span class="comment">// Uninstall exception handlers</span></div><div class="line">  <a class="code" href="group___crash_rpt_a_p_i.html#gaaf56dbee81338534d96ab23f694be43c">crUninstallFromCurrentThread</a>();</div><div class="line"> </div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> </dd></dl>

</div>
</div>
<a id="gac1f98f531d9a1c67f090768ce4316ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1f98f531d9a1c67f090768ce4316ffd">&#9670;&nbsp;</a></span>crInstallW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crInstallW </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_w.html">PCR_INSTALL_INFOW</a>&#160;</td>
          <td class="paramname"><em>pInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs exception handlers for the caller process. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInfo</td><td>General congiration information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function installs unhandled exception filter for the caller process. It also installs various CRT exception/error handlers that function for all threads of the caller process. For more information, see <a class="el" href="exception_handling.html">About Exceptions and Exception Handling</a></p>
<p>Below is the list of installed handlers:</p><ul>
<li>Top-level SEH exception filter [ <code>SetUnhandledExceptionFilter()</code> ]</li>
<li>C++ pure virtual call handler (Visual Studio .NET 2003 and later) [ <code>_set_purecall_handler()</code> ]</li>
<li>C++ invalid parameter handler (Visual Studio .NET 2005 and later) [ <code>_set_invalid_parameter_handler()</code> ]</li>
<li>C++ new operator error handler (Visual Studio .NET 2003 and later) [ <code>_set_new_handler()</code> ]</li>
<li>C++ buffer overrun handler (Visual Studio .NET 2003 only) [ <code>_set_security_error_handler()</code> ]</li>
<li>C++ abort handler [ <code>signal(SIGABRT)</code> ]</li>
<li>C++ illegal instruction handler [ <code>signal(SIGINT)</code> ]</li>
<li>C++ termination request [ <code>signal(SIGTERM)</code> ]</li>
</ul>
<p>In a multithreaded program, additionally use <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a> function for each execution thread, except the main one.</p>
<p>The <em>pInfo</em> parameter contains all required information needed to install CrashRpt.</p>
<p>This function fails when <em>pInfo-&gt;pszCrashSenderPath</em> doesn't contain valid path to CrashSender.exe or when <em>pInfo-&gt;pszCrashSenderPath</em> is equal to NULL, but <b>CrashSender.exe</b> is not located in the directory where <b>CrashRpt.dll</b> located.</p>
<p>On crash, the crash minidump file is created, which contains CPU information and stack trace information. Also XML file is created that contains additional information that may be helpful for crash analysis. These files along with several additional files added with <a class="el" href="group___crash_rpt_a_p_i.html#ga382c00cf76818ba1a66eb89715a030ea" title="Character set-independent mapping of crAddFile2W() and crAddFile2A() functions. ">crAddFile2()</a> are packed to a single ZIP file.</p>
<p>When crash information is collected, another process, <b>CrashSender.exe</b>, is launched and the process where crash had occured is terminated. The CrashSender process is responsible for letting the user know about the crash and send the error report.</p>
<p>The error report can be sent over E-mail using address and subject passed to the function as <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d">CR_INSTALL_INFO</a> structure members. Another way of sending error report is an HTTP request using <em>pszUrl</em> member of <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d">CR_INSTALL_INFO</a>.</p>
<p>This function may fail if an appropriate language file (<b>crashrpt_lang.ini</b>) is not found in the directory where the <b>CrashSender.exe</b> file is located.</p>
<p>If this function fails, use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message.</p>
<p><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a> and <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a> are wide-character and multi-byte character versions of <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> function. The <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337">crInstall</a> macro defines character set independent mapping for these functions.</p>
<p>For code example, see <a class="el" href="simple_example.html">An Example of Using CrashRpt API</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>, <a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_w.html" title="This structure defines the general information used by crInstallW() function. ">CR_INSTALL_INFOW</a>, <a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_a.html" title="This structure defines the general information used by crInstallW() function. ">CR_INSTALL_INFOA</a>, <a class="el" href="group___crash_rpt_structs.html#ga61e78b3a8180a386e7a40ecf125e5c1d" title="Character set-independent mapping of CR_INSTALL_INFOW and CR_INSTALL_INFOA structures. ">CR_INSTALL_INFO</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442" title="Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with crIns...">crUninstall()</a>, <a class="el" href="class_cr_auto_install_helper.html" title="Installs exception handlers in constructor and uninstalls in destructor. ">CrAutoInstallHelper</a> </dd></dl>

</div>
</div>
<a id="ga91f3b730d205cfae6aefdc54785abd39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91f3b730d205cfae6aefdc54785abd39">&#9670;&nbsp;</a></span>crSetCrashCallbackA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crSetCrashCallbackA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___crash_rpt_a_p_i.html#ga11deea25ba0fb0f4ad8942f672ee1a82">PFNCRASHCALLBACKA</a>&#160;</td>
          <td class="paramname"><em>pfnCallbackFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPVOID&#160;</td>
          <td class="paramname"><em>lpParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the crash callback function. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfnCallbackFunc</td><td>Pointer to the crash callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpParam</td><td>User defined parameter. Optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this to set the crash callback function that will be called on crash. This function is available since v.1.4.0.</p>
<p>For the crash callback function prototype, see documentation for <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b" title="Character set-independent mapping of PFNCRASHCALLBACKW() and PFNCRASHCALLBACKA() function prototrypes...">PFNCRASHCALLBACK()</a>.</p>
<p>Optional <b>lpParam</b> parameter can be a pointer to user-defined data. It will be passed to the crash callback function as <a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#ad41caf7513a95c2a1a3d0314b7b6d951">CR_CRASH_CALLBACK_INFO::pUserParam</a> structure member.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b" title="Character set-independent mapping of PFNCRASHCALLBACKW() and PFNCRASHCALLBACKA() function prototrypes...">PFNCRASHCALLBACK()</a> </dd></dl>

</div>
</div>
<a id="gaf55644f3fdbf3425a8d6a2e022908930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf55644f3fdbf3425a8d6a2e022908930">&#9670;&nbsp;</a></span>crSetCrashCallbackW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crSetCrashCallbackW </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___crash_rpt_a_p_i.html#ga16afda5ba27917d3954b4a33062413cf">PFNCRASHCALLBACKW</a>&#160;</td>
          <td class="paramname"><em>pfnCallbackFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPVOID&#160;</td>
          <td class="paramname"><em>lpParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the crash callback function. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded. Use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message on fail.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pfnCallbackFunc</td><td>Pointer to the crash callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpParam</td><td>User defined parameter. Optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Use this to set the crash callback function that will be called on crash. This function is available since v.1.4.0.</p>
<p>For the crash callback function prototype, see documentation for <a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b" title="Character set-independent mapping of PFNCRASHCALLBACKW() and PFNCRASHCALLBACKA() function prototrypes...">PFNCRASHCALLBACK()</a>.</p>
<p>Optional <b>lpParam</b> parameter can be a pointer to user-defined data. It will be passed to the crash callback function as <a class="el" href="struct_c_r___c_r_a_s_h___c_a_l_l_b_a_c_k___i_n_f_o_a.html#ad41caf7513a95c2a1a3d0314b7b6d951">CR_CRASH_CALLBACK_INFO::pUserParam</a> structure member.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_structs.html#ga9b24a2fe5f56404484b6fd83b23b969b" title="Character set-independent mapping of PFNCRASHCALLBACKW() and PFNCRASHCALLBACKA() function prototrypes...">PFNCRASHCALLBACK()</a> </dd></dl>

</div>
</div>
<a id="gab5ff3a104014a1e138878a1882822442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5ff3a104014a1e138878a1882822442">&#9670;&nbsp;</a></span>crUninstall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crUninstall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>Call this function on application exit to uninitialize the library and uninstall exception handlers previously installed with <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>. After function call, the exception handlers are restored to states they had before calling <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>.</p>
<p>This function fails if <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a> wasn't previously called in context of the caller process.</p>
<p>When this function fails, use the <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> function to retrieve the error message.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#gac1f98f531d9a1c67f090768ce4316ffd" title="Installs exception handlers for the caller process. ">crInstallW()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga18a7a7421e1522f787ba451eaf424b0e" title="Installs exception handlers for the caller process. ">crInstallA()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#ga24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions. ">crInstall()</a>, <a class="el" href="class_cr_auto_install_helper.html" title="Installs exception handlers in constructor and uninstalls in destructor. ">CrAutoInstallHelper</a> </dd></dl>

</div>
</div>
<a id="gaaf56dbee81338534d96ab23f694be43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf56dbee81338534d96ab23f694be43c">&#9670;&nbsp;</a></span>crUninstallFromCurrentThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int crUninstallFromCurrentThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uninstalls C++ exception handlers from the current thread. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns zero if succeeded.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>This function unsets exception handlers from the caller thread. If you have several execution threads, you ought to call the function for each thread. After calling this function, the exception handlers for current thread are replaced with the handlers that were before call of <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a>.</p>
<p>This function fails if <a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a> wasn't called for current thread.</p>
<p>When this function fails, use <a class="el" href="group___crash_rpt_a_p_i.html#ga062f47d5f7284d72793c60699c7caa33" title="Defines character set-independent mapping for crGetLastErrorMsgW() and crGetLastErrorMsgA(). ">crGetLastErrorMsg()</a> to retrieve the error message.</p>
<p>No need to call this function for the main execution thread. The <a class="el" href="group___crash_rpt_a_p_i.html#gab5ff3a104014a1e138878a1882822442" title="Uninitializes the CrashRpt library and unsinstalls exception handlers previously installed with crIns...">crUninstall()</a> will automatically uninstall C++ exception handlers for the main thread.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___crash_rpt_a_p_i.html#ga6fe5cff31697f687b29dc73cd34d72b4" title="Installs exception handlers to the caller thread. ">crInstallToCurrentThread2()</a>, <a class="el" href="group___crash_rpt_a_p_i.html#gaaf56dbee81338534d96ab23f694be43c" title="Uninstalls C++ exception handlers from the current thread. ">crUninstallFromCurrentThread()</a>, <a class="el" href="class_cr_thread_auto_install_helper.html" title="Installs (uninstalls) exception handlers for the caller thread in class&#39; constructor (destructor)...">CrThreadAutoInstallHelper</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><address style="text-align: right;"><small>
Generated on Fri Apr 21 2017 15:24:31 for CrashRpt by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.13</small></address>
</body>
</html>
